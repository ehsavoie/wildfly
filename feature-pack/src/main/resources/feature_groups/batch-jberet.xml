<?xml version="1.0" encoding="UTF-8"?>
<feature-group-spec name="batch-jberet" xmlns="urn:wildfly:pm-feature-group:1.0">
    <feature spec="subsystem.batch-jberet">
        <param name="default-thread-pool" value="batch"/>
        <param name="default-job-repository" value="in-memory"/>
        <feature spec="subsystem.batch-jberet.in-memory-job-repository">
            <param name="in-memory-job-repository" value="in-memory" />
        </feature>
        <feature spec="subsystem.batch-jberet.thread-pool">
            <param name="thread-pool" value="batch" />
            <param name="max-threads" value="10" />
        </feature>
    </feature>
    <feature-pack dependency="org.wildfly.core:wildfly-core-feature-pack-new">
        <feature spec="subsystem.elytron">
            <feature spec="subsystem.elytron.simple-permission-mapper">
                <param name="simple-permission-mapper" value="default-permission-mapper" />
                <feature spec="subsystem.elytron.simple-permission-mapper_permission-mappings">
                    <param name="permission-mapping" value="{class-name=org.wildfly.extension.batch.jberet.deployment.BatchPermission,module=org.wildfly.extension.batch.jberet,target-name=*}"/>
                </feature>
            </feature>
        </feature>
    </feature-pack>
</feature-group-spec>
